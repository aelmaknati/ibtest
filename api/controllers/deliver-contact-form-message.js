module.exports={friendlyName:"Deliver contact form message",description:"Deliver a contact form message to the appropriate internal channel(s).",inputs:{emailAddress:{required:!0,type:"string",description:"A return email address where we can respond.",example:"hermione@hogwarts.edu"},topic:{required:!0,type:"string",description:"The topic from the contact form.",example:"I want to buy stuff."},fullName:{required:!0,type:"string",description:"The full name of the human sending this message.",example:"Hermione Granger"},message:{required:!0,type:"string",description:"The custom message, in plain text."}},exits:{success:{description:"The message was sent successfully."}},fn:async function({emailAddress:emailAddress,topic:topic,fullName:fullName,message:message}){if(!sails.config.custom.internalEmailAddress)throw new Error("Cannot deliver incoming message from contact form because there is no internal\nemail address (`sails.config.custom.internalEmailAddress`) configured for this\napp.  To enable contact form emails, you'll need to add this missing setting to\nyour custom config -- usually in `config/custom.js`, `config/staging.js`,\n`config/production.js`, or via system environment variables.");await sails.helpers.sendTemplateEmail.with({to:sails.config.custom.internalEmailAddress,subject:"New contact form message",template:"internal/email-contact-form",layout:!1,templateData:{contactName:fullName,contactEmail:emailAddress,topic:topic,message:message}})}};