!function(factory,exposeUMD){exposeUMD(this,factory)}((function(Vue,_,VueRouter,$,bowser){var didAlreadyLoadPageScript,parasails;function _ensureGlobalCache(){parasails._cache=parasails._cache||{}}function _exportOnGlobalCache(moduleName,moduleDefinition){if(_ensureGlobalCache(),parasails._cache[moduleName])throw new Error("Something else (e.g. a utility or constant) has already been registered under that name (`"+moduleName+"`)");parasails._cache[moduleName]=moduleDefinition}function _exposeBonusMethods(def,currentModuleEntityNoun){if(!currentModuleEntityNoun)throw new Error("Consistency violation: Bad internal usage. ");if(def.methods&&def.methods.$get)throw new Error("This "+currentModuleEntityNoun+" contains `methods` with a `$get` key, but you're not allowed to override that");if(def.methods&&def.methods.$find)throw new Error("This "+currentModuleEntityNoun+" contains `methods` with a `$find` key, but you're not allowed to override that");if(def.methods&&def.methods.$focus)throw new Error("This "+currentModuleEntityNoun+" contains `methods` with a `$focus` key, but you're not allowed to override that");if(def.methods&&def.methods.forceRender)throw new Error("This "+currentModuleEntityNoun+" contains `methods` with a `forceRender` key, but you're not allowed to override that");if(def.methods&&def.methods.$forceRender)throw new Error("This "+currentModuleEntityNoun+' contains `methods` with a `$forceRender` key, but that\'s too confusing to let stand (did you mean "forceRender"?  Besides, that method cannot be overridden anyway)');def.methods=def.methods||{},def.methods.forceRender=function(){return this.$forceUpdate(),this.$nextTick()},$?(def.methods.$get=function(){var $rootEl=$(this.$el);if(1!==$rootEl.length)throw new Error("Cannot use .$get() - something is wrong with this "+currentModuleEntityNoun+"'s top-level DOM element.  (It probably has not mounted yet!)");return $rootEl},def.methods.$find=function(subSelector){if(!subSelector)throw new Error("Cannot use .$find() because no sub-selector was provided.\nExample usage:\n    var $emailFields = this.$find('[name=\"emailAddress\"]');");var $rootEl=$(this.$el);if(1!==$rootEl.length)throw new Error("Cannot use .$find() - something is wrong with this "+currentModuleEntityNoun+"'s top-level DOM element.  (It probably has not mounted yet!)");return $rootEl.find(subSelector)},def.methods.$focus=function(subSelector){if(!subSelector)throw new Error("Cannot use .$focus() because no sub-selector was provided.\nExample usage:\n    this.$focus('[name=\"emailAddress\"]');");var $rootEl=$(this.$el);if(1!==$rootEl.length)throw new Error("Cannot use .$focus() - something is wrong with this "+currentModuleEntityNoun+"'s top-level DOM element.  (It probably has not mounted yet!)");var $fieldToAutoFocus=$rootEl.find(subSelector);if(0===$fieldToAutoFocus.length)throw new Error("Could not autofocus-- no such element exists within this "+currentModuleEntityNoun+".");if($fieldToAutoFocus.length>1)throw new Error("Could not autofocus `"+subSelector+"`-- too many elements matched!");$fieldToAutoFocus.focus()}):(def.methods.$get=function(){throw new Error("Cannot use .$get() method because, at the time when this "+currentModuleEntityNoun+" was registered, jQuery (`$`) did not exist on the page yet.  (If you're using Sails, please check dependency loading order in pipeline.js and make sure jQuery is getting brought in before `parasails`.)")},def.methods.$find=function(){throw new Error("Cannot use .$find() method because, at the time when this "+currentModuleEntityNoun+" was registered, jQuery (`$`) did not exist on the page yet.  (If you're using Sails, please check dependency loading order in pipeline.js and make sure jQuery is getting brought in before `parasails`.)")},def.methods.$focus=function(){throw new Error("Cannot use .$focus() method because, at the time when this "+currentModuleEntityNoun+" was registered, jQuery (`$`) did not exist on the page yet.  (If you're using Sails, please check dependency loading order in pipeline.js and make sure jQuery is getting brought in before `parasails`.)")})}function _wrapMethodsAndVerifyNoArrowFunctions(def,currentModuleEntityNoun){if(!currentModuleEntityNoun)throw new Error("Consistency violation: Bad internal usage. ");var RECOMMENDATIONS_BY_UNRECOGNIZED_KEY={beforeMounted:"beforeMount",beforeMounting:"beforeMount",beforeDestroyed:"beforeDestroy",beforeDestroying:"beforeDestroy",events:"methods",functions:"methods",state:"data",virtualPageRegExp:"virtualPagesRegExp",virtualPageRegEx:"virtualPagesRegExp",virtualPagesRegEx:"virtualPagesRegExp",virtualPage:"virtualPages",html5History:"html5HistoryMode",historyMode:"html5HistoryMode"},lowercasedRecommendationsByKey=_.reduce(RECOMMENDATIONS_BY_UNRECOGNIZED_KEY,(function(memo,correctAlias,incorrectKey){return memo[incorrectKey.toLowerCase()]=correctAlias,memo}),{});if(_.each(def,(function(x,propertyName){if(void 0!==x&&(_.contains(_.keys(RECOMMENDATIONS_BY_UNRECOGNIZED_KEY),propertyName)||_.contains(_.keys(lowercasedRecommendationsByKey),propertyName.toLowerCase())))throw new Error('Detected unrecognized and potentially confusing key "'+propertyName+'" on the top level of '+currentModuleEntityNoun+' definition.  Did you mean "'+lowercasedRecommendationsByKey[propertyName.toLowerCase()]+'"?')})),"page script"===currentModuleEntityNoun||"component"===currentModuleEntityNoun){var LEGAL_TOP_LVL_KEYS=["beforeMount","mounted","data","methods","props","template","beforeDestroy","router","virtualPages","html5HistoryMode","beforeNavigate","afterNavigate","virtualPagesRegExp","watch","computed","propsData","components","filters","directives","el","render","renderError","comments","inheritAttrs","model","functional","delimiters","name","beforeCreate","created","beforeUpdate","updated","activated","deactivated","destroyed","errorCaptured","parent","mixins","extends","provide","inject"];_.each(_.difference(_.keys(def),LEGAL_TOP_LVL_KEYS),(function(propertyName){if(void 0!==def[propertyName])throw new Error('Detected unrecognized key "'+propertyName+'" on the top level of '+currentModuleEntityNoun+" definition.  Did you perhaps intend for `"+propertyName+"` to be included as a nested key within `data` or `methods`?  Please check on that and try again.  If you're unsure, or you're deliberately attempting to use a Vue.js feature that relies on having a top-level property named `"+propertyName+"`, then please remove this check from the parasails.js library in your project, or drop by https://sailsjs.com/support for assistance.")}))}def.filters=def.filters||{},def.filters.currency,def.filters.round||(def.filters.round=function(value,accuracy,chopTrailingZeros){if("number"!=typeof value)return""+value;var result=value.toFixed(accuracy);return chopTrailingZeros?""+ +result:""+result}),def.methods=def.methods||{},_.each(_.keys(def.methods),(function(methodName){if(!_.isFunction(def.methods[methodName]))throw new Error("Unexpected definition for Vue method `"+methodName+'`.  Expecting a function, but got "'+def.methods[methodName]+'"');var isArrowFunction;try{var asString=def.methods[methodName].toString();isArrowFunction=asString.match(/^\s*\(\s*/)||asString.match(/^\s*async\s*\(\s*/)}catch(err){console.warn("Consistency violation: Encountered unexpected error when attempting to verify that Vue method `"+methodName+"` is not an arrow function.  (What browser is this?!)  Anyway, error details:",err)}if(isArrowFunction)throw new Error("Unexpected definition for Vue method `"+methodName+"`.  Vue methods cannot be specified as arrow functions, because then you wouldn't have access to `this` (i.e. the Vue vm instance).  Please use a function like `function(){…}` or `async function(){…}` instead.")}))}if($&&"undefined"!=typeof window&&window.SAILS_LOCALS&&"production"!==window.SAILS_LOCALS._environment){var _displayErrorOverlay=function(errorSummary){return 0===$("#parasails-error-handler").length?($('<div id="parasails-error-handler"><div role="error-handler-content"><h1>Whoops</h1><p><span role="summary">An unexpected client-side error occurred.</span><br/><pre>'+_.escape(_.trunc(errorSummary,{length:350}))+"</pre><span>Please check your browser's JavaScript console for further details.</span><br/><small>This message will not be displayed in production.  If you're unsure, <a href=\"https://sailsjs.com/support\">ask for help</a>.</small><br/><small>"+_.escape(new Date)+"</small></p></div></div>").css({position:"fixed",bottom:"0",height:"100%",width:"100%","z-index":"9000",display:"table",background:"radial-gradient(circle, rgba(0,0,0,0.98) 0%, rgba(35,8,8,0.87) 80%, rgba(20,5,5,0.85) 100%)"}).appendTo("body"),$('#parasails-error-handler [role="error-handler-content"]').css({display:"table-cell","vertical-align":"middle","text-align":"center"}),$('#parasails-error-handler [role="error-handler-content"] *').css({"font-family":"'Consolas', 'Courier', 'courier', serif",color:"white"}),$('#parasails-error-handler [role="error-handler-content"] small').css({color:"#cccccc"}),$('#parasails-error-handler [role="error-handler-content"] pre').css({color:"#ff5555",display:"block",background:"#112f1f","white-space":"pre-wrap",padding:"10px","margin-left":"auto","margin-right":"auto","max-width":"500px","min-width":"280px","font-size":"11px"}),$('#parasails-error-handler [role="error-handler-content"] a').css({"text-decoration":"underline",color:"#cccccc"})):$('#parasails-error-handler [role="summary"]').text("Multiple unexpected client-side errors occurred."),!1},originalWindowOnError=window.onerror;window.onerror=function(message,scriptSrc,lineNo,charNo,err){if(_displayErrorOverlay(err&&err.message?err.message:message),_.isFunction(originalWindowOnError))return originalWindowOnError(message,scriptSrc,lineNo,charNo,err)},window.addEventListener("unhandledrejection",(function(event){_displayErrorOverlay(event&&event.reason?event.reason:event)})),Vue.config.errorHandler=function(err,unusedVm,errorSourceDisplayName){if(err&&err.message)err.message="render function"===errorSourceDisplayName?"In the HTML template (during render): "+err.message:"In "+errorSourceDisplayName+": "+err.message;else{var _originalNotActuallyErr=err;(err=new Error(_originalNotActuallyErr)).raw=_originalNotActuallyErr}console.error(err),_displayErrorOverlay(err)},Vue.config.warnHandler=function(msg,unusedVm,unusedTrace){throw new Error(msg+"\n\nExpand this error and check out the stack trace for more info.")}}return(parasails={}).util={},parasails.registerUtility=function(utilityName,def){if(!utilityName)throw new Error("1st argument (utility name) is required");if(!def)throw new Error("2nd argument (utility function definition) is required");if(!_.isFunction(def))throw new Error("2nd argument (utility function definition) should be a function");var callableUtility=def;callableUtility.name=utilityName,_exportOnGlobalCache(utilityName,callableUtility),parasails.util[utilityName]=callableUtility},parasails.registerConstant=function(constantName,value){if(!constantName)throw new Error("1st argument (constant name) is required");if(void 0===value)throw new Error("2nd argument (the constant value) is required");_exportOnGlobalCache(constantName,value)},parasails.registerComponent=function(componentName,def){var customMountedLC;if(_exposeBonusMethods(def,"component"),_wrapMethodsAndVerifyNoArrowFunctions(def,"component"),def.mounted&&(customMountedLC=def.mounted),def.mounted=function(){this.$el.setAttribute("parasails-component",_.kebabCase(componentName)),customMountedLC&&customMountedLC.apply(this,[])},def.methods&&def.methods.goto)throw new Error("Component definition contains `methods` with a `goto` key-- but you're not allowed to override that");if(def.methods&&def.methods.gotoAndReplaceHistory)throw new Error("Component definition contains `methods` with a `gotoAndReplaceHistory` key-- but you're not allowed to override that");def.methods=def.methods||{},def.methods.goto=function(rootRelativeUrl){if(bowser&&("Internet Explorer"===bowser.name||"Microsoft Edge"===bowser.name))try{window.location.href=rootRelativeUrl}catch(unusedErr){throw new Error("`goto` failed in Edge or IE! If navigation was cancelled in `beforeunload`, you can probably ignore this message (see https://stackoverflow.com/questions/1509643/unknown-exception-when-cancelling-page-unload-with-location-href/1510074#1510074).")}else window.location=rootRelativeUrl},def.methods.gotoAndReplaceHistory=function(rootRelativeUrl){window.location.replace(rootRelativeUrl)},Vue.component(componentName,def)},parasails.require=function(moduleName){if(!moduleName)throw new Error("1st argument (module name -- i.e. the name of a utility or constant) is required");if(_ensureGlobalCache(),void 0===parasails._cache[moduleName]){var err=new Error("No utility or constant is registered under that name (`"+moduleName+"`)");throw err.name="RequireError",err.code="MODULE_NOT_FOUND",err}return parasails._cache[moduleName]},parasails.registerPage=function(pageName,def){if(!pageName)throw new Error("1st argument (page name) is required");if(!def)throw new Error("2nd argument (page script definition) is required");if(document.getElementById(pageName)){if(didAlreadyLoadPageScript)throw new Error("Cannot load page script (`"+pageName+") because a page script has already been loaded on this page.");if(didAlreadyLoadPageScript=!0,def.el)throw new Error("Page script definition contains `el`, but you're not allowed to override that");def.el="#"+pageName,_exposeBonusMethods(def,"page script"),_wrapMethodsAndVerifyNoArrowFunctions(def,"page script");var customMountedLC,vueComponentDef,bowserSniffClasses="",SNIFFER_CSS_CLASS_PREFIX="detected-";if(bowser&&$&&(bowser.tablet||bowser.mobile?(bowserSniffClasses+=" "+SNIFFER_CSS_CLASS_PREFIX+"mobile",bowser.ios?bowserSniffClasses+=" "+SNIFFER_CSS_CLASS_PREFIX+"ios":bowser.android?bowserSniffClasses+=" "+SNIFFER_CSS_CLASS_PREFIX+"android":bowser.windowsphone&&(bowserSniffClasses+=" "+SNIFFER_CSS_CLASS_PREFIX+"windowsphone"),bowser.tablet?bowserSniffClasses+=" "+SNIFFER_CSS_CLASS_PREFIX+"tablet":bowser.mobile&&(bowserSniffClasses+=" "+SNIFFER_CSS_CLASS_PREFIX+"handset")):bowser.mac?bowserSniffClasses+=" "+SNIFFER_CSS_CLASS_PREFIX+"mac":bowser.windows?bowserSniffClasses+=" "+SNIFFER_CSS_CLASS_PREFIX+"windows":bowser.linux&&(bowserSniffClasses+=" "+SNIFFER_CSS_CLASS_PREFIX+"linux")),$&&bowserSniffClasses&&$((function(){$("body").addClass(bowserSniffClasses)})),def.mounted&&(customMountedLC=def.mounted),def.mounted=function(){$&&bowserSniffClasses&&this.$get().addClass(bowserSniffClasses),customMountedLC&&customMountedLC.apply(this,[])},def.data&&def.data.pageName)throw new Error("Page script definition contains `data` with a `pageName` key, but you're not allowed to override that");if(def.data=_.extend({pageName:pageName,_:_},def.data||{}),bowser&&!def.data.hasOwnProperty("bowser")&&(def.data.bowser=bowser),"undefined"==typeof window||!_.isObject(window.SAILS_LOCALS)||_.isArray(window.SAILS_LOCALS)||_.isFunction(window.SAILS_LOCALS)||_.extend(def.data,window.SAILS_LOCALS),def.methods&&def.methods.goto)throw new Error("Page script definition contains `methods` with a `goto` key-- but you're not allowed to override that");if(def.methods&&def.methods.gotoAndReplaceHistory)throw new Error("Page script definition contains `methods` with a `gotoAndReplaceHistory` key-- but you're not allowed to override that");if(def.methods=def.methods||{},VueRouter){var _virtualPagesRegExp=def.virtualPagesRegExp,_goto=function($router,rootRelativeUrlOrOpts,replaceHistory){if(_virtualPagesRegExp&&(!_.isString(rootRelativeUrlOrOpts)||rootRelativeUrlOrOpts.match(_virtualPagesRegExp)))return replaceHistory?$router.replace(rootRelativeUrlOrOpts):$router.push(rootRelativeUrlOrOpts);replaceHistory?window.location.replace(rootRelativeUrlOrOpts):window.location=rootRelativeUrlOrOpts};def.methods.goto=function(rootRelativeUrlOrOpts){return _goto(this.$router,rootRelativeUrlOrOpts)},def.methods.gotoAndReplaceHistory=function(rootRelativeUrlOrOpts){return _goto(this.$router,rootRelativeUrlOrOpts,!0)}}else def.methods.goto=function(){throw new Error("Cannot use .goto() method because, at the time when this page script was registered, VueRouter did not exist on the page yet. (If you're using Sails, please check dependency loading order in pipeline.js and make sure VueRouter is getting brought in before `parasails`.)")},def.methods.gotoAndReplaceHistory=function(){throw new Error("Cannot use .gotoAndReplaceHistory() method because, at the time when this page script was registered, VueRouter did not exist on the page yet. (If you're using Sails, please check dependency loading order in pipeline.js and make sure VueRouter is getting brought in before `parasails`.)")};if(void 0===def.virtualPages)def.virtualPagesRegExp&&(def.virtualPages=!0);else{if(_.isObject(def.virtualPages)&&!_.isArray(def.virtualPages)&&!_.isFunction(def.virtualPages))throw new Error("This usage of `virtualPages` (as a dictionary) is no longer supported.  Instead, please use `virtualPages: true`.  [?] https://sailsjs.com/support");if(!_.isBoolean(def.virtualPages))throw new Error("Cannot use `virtualPages` because the specified value doesn't match any recognized meaning.  Please specify either `true` (for the default handling) or a dictionary of client-side routing rules.")}if(def.virtualPages&&def.router)throw new Error("Cannot specify both `virtualPages` AND an actual Vue `router`!  Use one or the other.");if(def.router&&!VueRouter)throw new Error("Cannot use `router`, because that depends on the Vue Router.  But `VueRouter` does not exist on the page yet.  (If you're using Sails, please check dependency loading order in pipeline.js and make sure the VueRouter plugin is getting brought in before `parasails`.)");if(!def.virtualPages&&void 0!==def.html5HistoryMode)throw new Error("Cannot specify `html5HistoryMode` without also specifying `virtualPages`!");if(!def.virtualPages&&void 0!==def.beforeEach)throw new Error("Cannot specify `beforeEach` without also specifying `virtualPages`!");if((def.beforeNavigate||def.afterNavigate)&&!0!==def.virtualPages)throw new Error("Cannot specify `beforeNavigate` or `afterNavigate` unless you set `virtualPages: true`!");if(!0===def.virtualPages){if(!VueRouter)throw new Error("Cannot use `virtualPages`, because it depends on the Vue Router.  But `VueRouter` does not exist on the page yet.  (If you're using Sails, please check dependency loading order in pipeline.js and make sure the VueRouter plugin is getting brought in before `parasails`.)");if(void 0!==def.beforeEach)throw new Error("Cannot specify `virtualPages: true` AND `beforeEach` at the same time!");if(!def.virtualPagesRegExp&&"history"===def.html5HistoryMode)throw new Error("If `html5HistoryMode: 'history'` is specified, then virtualPagesRegExp must also be specified!");if(def.virtualPagesRegExp&&!_.isRegExp(def.virtualPagesRegExp))throw new Error("Invalid `virtualPagesRegExp`: If specified, this must be a regular expression -- e.g. `/^/manage/access/?([^/]+)?/`");if(void 0===def.html5HistoryMode)def.virtualPagesRegExp?def.html5HistoryMode="history":def.html5HistoryMode="hash";else if("history"!==def.html5HistoryMode&&"hash"!==def.html5HistoryMode)throw new Error('Invalid `html5HistoryMode`: If specified, this must be either "history" or "hash".');var customBeforeMountLC,pathMatchingRegExp;if(def.beforeMount&&(customBeforeMountLC=def.beforeMount),def.beforeMount=function(){if(0===this.$find("router-view").length)throw new Error("Cannot mount this page with `virtualPages: true` because no <router-view> element exists in this page's HTML.\nPlease be sure the HTML includes:\n\n```\n<router-view></router-view>\n```\n");customBeforeMountLC&&customBeforeMountLC.apply(this,[])},def.methods._handleVirtualNavigation)throw new Error("Could not use `virtualPages: true`, because a conflicting `_handleVirtualNavigation` method is defined.  Please remove it, or do something else.");pathMatchingRegExp="history"===def.html5HistoryMode?def.virtualPagesRegExp:/.*/;var beforeNavigate=def.beforeNavigate,afterNavigate=def.afterNavigate;if(def.methods=_.extend(def.methods||{},{_handleVirtualNavigation:function(virtualPageSlug){if(beforeNavigate&&!1===beforeNavigate.apply(this,[virtualPageSlug]))return!1;this.virtualPageSlug=virtualPageSlug,afterNavigate&&afterNavigate.apply(this,[virtualPageSlug])}}),def.data&&void 0!==def.data.virtualPageSlug&&!_.isString(def.data.virtualPageSlug))throw new Error("Page script definition contains `data` with a `virtualPageSlug` key, but you're not allowed to set that yourself unless you use a string.  (And this is set to a non-string value: "+def.data.virtualPageSlug+")");def.data&&void 0===def.data.virtualPageSlug&&(def.data=_.extend({virtualPageSlug:void 0},def.data||{})),def=_.extend({router:new VueRouter({mode:def.html5HistoryMode,routes:[{path:"*",component:(vueComponentDef={render:function(){},beforeRouteUpdate:function(to,from,next){var path=to.path,matches=path.match(pathMatchingRegExp);if(!matches){var err=new Error("Could not match current URL path (`"+path+"`) as a virtual page.  Please check the `virtualPagesRegExp` -- e.g. `/^/foo/bar/?([^/]+)?/`");throw err.code="E_DID_NOT_MATCH_REGEXP",err}return this.$parent._handleVirtualNavigation(matches[1]||""),next()},mounted:function(){var path=this.$route.path,matches=path.match(pathMatchingRegExp);if(!matches){var err=new Error("Could not match current URL path (`"+path+"`) as a virtual page.  Please check the `virtualPagesRegExp` -- e.g. `/^/foo/bar/?([^/]+)?/`");throw err.code="E_DID_NOT_MATCH_REGEXP",err}this.$parent._handleVirtualNavigation(matches[1]||"")}},_exposeBonusMethods(vueComponentDef,"virtual page"),_wrapMethodsAndVerifyNoArrowFunctions(vueComponentDef,"virtual page"),vueComponentDef)}]})},_.omit(def,["virtualPages","virtualPagesRegExp","html5HistoryMode","beforeNavigate","afterNavigate"]))}return new Vue(def)}},parasails.util.isMobile=function(){if(!bowser)throw new Error("Cannot detect mobile-ness, because `bowser` global does not exist on the page yet. (If you're using Sails, please check dependency loading order in pipeline.js and make sure the Bowser library is getting brought in before `parasails`. If you have not included Bowser in your project, you can find it at https://github.com/lancedikson/bowser/releases)");return!!bowser.mobile||!!bowser.tablet},parasails.isMobile=parasails.util.isMobile,parasails.util.isValidEmailAddress=function(value){return!(!value||"string"!=typeof value)&&function(){function _isByteLength(str,min,max){var len=encodeURI(str).split(/%..|./).length-1;return len>=min&&(void 0===max||len<=max)}var emailUserUtf8Part=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,quotedEmailUserUtf8=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;function _isFQDN(str){var options={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1};options.allow_trailing_dot&&"."===str[str.length-1]&&(str=str.substring(0,str.length-1));var parts=str.split(".");if(options.require_tld){var tld=parts.pop();if(!parts.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(tld))return!1}for(var part,i=0;i<parts.length;i++){if(part=parts[i],options.allow_underscores){if(part.indexOf("__")>=0)return!1;part=part.replace(/_/g,"")}if(!/^[a-z\u00a1-\uffff0-9-]+$/i.test(part))return!1;if(/[\uff01-\uff5e]/.test(part))return!1;if("-"===part[0]||"-"===part[part.length-1]||part.indexOf("---")>=0)return!1}return!0}return function(str){var parts=str.split("@"),domain=parts.pop(),user=parts.join("@"),lower_domain=domain.toLowerCase();if("gmail.com"!==lower_domain&&"googlemail.com"!==lower_domain||(user=user.replace(/\./g,"").toLowerCase()),!_isByteLength(user,0,64)||!_isByteLength(domain,0,256))return!1;if(!_isFQDN(domain))return!1;if('"'===user[0])return user=user.slice(1,user.length-1),quotedEmailUserUtf8.test(user);for(var pattern=emailUserUtf8Part,user_parts=user.split("."),i=0;i<user_parts.length;i++)if(!pattern.test(user_parts[i]))return!1;return!0}}()(value)},parasails.utils=parasails.util,parasails}),(function(global,factory){var Vue,_,VueRouter,$,bowser;if("object"==typeof exports&&"undefined"!=typeof module){var _require=require,_module=module;Vue=_require("vue"),_=_require("lodash");try{VueRouter=_require("vue-router")}catch(e){if("MODULE_NOT_FOUND"!==e.code)throw e}try{$=_require("jquery")}catch(e){if("MODULE_NOT_FOUND"!==e.code)throw e}try{bowser=_require("bowser")}catch(e){if("MODULE_NOT_FOUND"!==e.code)throw e}_module.exports=factory(Vue,_,VueRouter,$,bowser)}else if("function"==typeof define&&define.amd)define([],(function(){if(!global.Vue)throw new Error("`Vue` global does not exist on the page yet. (If you're using Sails, please check dependency loading order in pipeline.js and make sure the Vue.js library is getting brought in before `parasails`.)");if(Vue=global.Vue,!global._)throw new Error("`_` global does not exist on the page yet. (If you're using Sails, please check dependency loading order in pipeline.js and make sure the Lodash library is getting brought in before `parasails`.)");return _=global._,VueRouter=global.VueRouter||void 0,$=global.$||global.jQuery||void 0,bowser=global.bowser||void 0,factory(Vue,_,VueRouter,$,bowser)}));else{if(!global.Vue)throw new Error("`Vue` global does not exist on the page yet. (If you're using Sails, please check dependency loading order in pipeline.js and make sure the Vue.js library is getting brought in before `parasails`.)");if(Vue=global.Vue,!global._)throw new Error("`_` global does not exist on the page yet. (If you're using Sails, please check dependency loading order in pipeline.js and make sure the Lodash library is getting brought in before `parasails`.)");if(_=global._,VueRouter=global.VueRouter||void 0,$=global.$||global.jQuery||void 0,bowser=global.bowser||void 0,global.parasails)throw new Error("Conflicting global (`parasails`) already exists!");global.parasails=factory(Vue,_,VueRouter,$,bowser)}}));